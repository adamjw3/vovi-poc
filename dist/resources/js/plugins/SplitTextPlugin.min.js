!function(h){h.fn.splitText=function(c){null==(c=null==c||""==c||"words"!==c.type&&"lines"!==c.type&&"letters"!==c.type&&"sentences"!==c.type?{type:"lines",animation:"explode",justSplit:!1,duration:1,scale:!0,useLite:!1,colorize:null,useCSS:!1}:c).duration&&(c.duration=1);var d=h(this);d.hasClass("isSplit")?(d.empty(),d.text(h("#hidden_"+d.attr("id")).text())):(d.attr("id",String(Math.round(1e3*Math.random()+42))),d.addClass("isSplit"));var e=d.text(),u=new(0==c.useLite?TimelineMax:TimelineLite),t=d.text(),n=(h("#hidden_"+d.attr("id")),"hidden_"+d.attr("id"));if(null==document.getElementById(n)&&(h("body").append('<p class="hiddenText" id="hidden_'+d.attr("id")+'"></p>'),h(".hiddenText").text(e).css({display:"none"}),"pre"===h(".blank").css("white-space")&&0!=c.useCSS||h("<style rel='splitStyle'>.splitText{max-width: 600px;float: left;margin-top: 90px;margin-left: 20px;font-size:20px;}.splitText>div{white-space:pre-line;float:left;margin-right:5px;cursor:default;}.letter-measure{margin-right:0 !important;cursor:default;}.split-lines{white-space:nowrap !important;}.blank{margin-right:0px !important;white-space: pre !important;}</style>").appendTo(document.documentElement)),console.log(c.type),"lines"==c.type){var i=s(e);d.html(i);e=function(){for(var e=d.children(".word-measure").length,t=[d.children(".word-measure:eq(0)").text()],n=[],i=1;i<e;i++){var a=d.children(".word-measure:eq("+(i-1)+")").offset().top;d.children(".word-measure:eq("+i+")").offset().top==a?t.push(d.children(".word-measure:eq("+i+")").text()):(n.push({text:t.join(" "),top:a}),t=[d.children(".word-measure:eq("+i+")").text()])}return n.push({text:t.join(" "),top:d.children(".word-measure:last").offset().top}),n}();if(1==c.justSplit)return{id:d.attr("id"),value:e};d.empty(),h.each(e,function(e,t){t="<div class='split-lines'>"+t.text+"</div>";d.append(t)})}else if("words"==c.type){i=s(t);if(1==c.justSplit)return{id:d.attr("id"),value:i};d.empty(),d.html(i)}else if("letters"==c.type){i=function(e){for(var t=e.split(""),n=0;n<t.length;n++)" "==t[n]?t[n]='<div class="letter-measure blank">'+t[n]+"</div>":t[n].match(/\s\n\t\r/g)||""==t[n]||(t[n]='<div class="letter-measure">'+t[n]+"</div>");return t.join(" ")}(t);if(1==c.justSplit)return{id:d.attr("id"),value:i};d.empty(),d.html(i)}else if("sentences"==c.type){i=function(e){for(var t=/[^\.!\?]+[\.!\?]+/g,n=s(e,!0),i=String(e).match(t),a=new Array,o=0;o<i.length;o++)a.push({text:i[o]});console.log(n),a=new Array;for(var r=0;r<n.length;r++){var l=n[r];isSentenceEnd=t.test(l),isSentenceEnd?n[r]="<div class='split-sentences endOfSentence'>"+l+"</div>":n[r]="<div class='split-sentences'>"+l+"</div>",a.push(n[r])}return n.join(" ")}(t);if(1==c.justSplit)return{id:d.attr("id"),value:i};d.empty(),d.html(i)}function s(e,t){var n=e.replace(/\n/g," \n<br/> ").split(" ");return 1==t?(h.each(n,function(e,t){t.match(/\n/)||""==t||(n[e]=t)}),n):(h.each(n,function(e,t){t.match(/\n/)||""==t||(n[e]='<div class="word-measure">'+t+"</div>")}),n.join(" "))}return this.animate=function(){if("glowOnHover"==c.animation){u=new TimelineMax({align:"start"});var e=d.children().length;return u=new TimelineMax({align:"start"}),d.children().each(function(e,t){p=h(this),h(this).on("mouseenter",function(){TweenMax.to(h(this),c.duration,f(c))}),h(this).on("mouseleave",function(){TweenMax.to(h(this),c.duration,{"text-shadow":"none",color:"#000"})})}),!0}if("scramble"==c.animation){u=new TimelineMax({align:"start"});var o,e=d.children().length,r=-Math.PI,l=w(50,200),s=360/e;return u=new TimelineMax({align:"start"}),d.children().each(function(e,t){var n=(p=h(this)).position();p.css({left:n.left,top:n.top}),o=p.width()+100*Math.random();var i=Math.round(l+o*Math.cos(r)),a=Math.round(l+o*Math.sin(r)),n=180*Math.atan2(a-w(100,200),i-w(100,200))/Math.PI+90;u.insert(TweenMax.to(p,.8,{position:"absolute",left:i,top:a,rotation:n,ease:Sine.easeOut}));n=s*(Math.PI/w(10,270));r+=n}),u.play(),!0}if("blackout"==c.animation)d.children().each(function(e,t){p=h(this),h(this).on("mouseenter",function(){TweenMax.to(h(this),c.duration,{color:"rgba(255, 255, 255, 0.8)","background-clip":"text"})}),h(this).on("mouseleave",function(){TweenMax.to(h(this),c.duration,x())})});else if("machinegun"==c.animation){var i=new TimelineMax({delay:.6,repeat:2,repeatDelay:4}),a=0;d.children().each(function(e,t){p=h(this),duration=Math.max(.5,.08*p.length),console.log(duration);var n=p.hasClass("endOfSentence");n&&(duration+=.6),TweenLite.set(p,{autoAlpha:0,scale:0,z:.01}),i.to(p,duration,{scale:1.2,ease:SlowMo.ease.config(.25,.9)},a).to(p,duration,{autoAlpha:1,ease:SlowMo.ease.config(.25,.9,!0)},a),a+=duration-.05,n&&(a+=.6)})}else if("matrix"==c.animation){u=new TimelineMax({align:"start"});d.parent();return d.children().each(function(e,t){var n=h(this),i=h(this).position();n.css({top:w(-800,0),opacity:0,left:i.left}),u.insert(TweenMax.to(h(this),w(.5,2.5),m(i.top)))}),u.play(),!0}if("letters"==c.type){u=new TimelineMax({align:"start"});for(var p,e=d.children().length,t=0;t<e;t++)p=d.children().eq(t),"explode"==c.animation&&(n=p.position(),p.css({left:n.left,top:n.top})),u.insert(TweenMax.to(p,c.duration,f(c)));u.play()}else if("words"==c.type){u=new TimelineMax;for(var n,e=d.children().length,t=0;t<e;t++)"explode"==c.animation&&(n=d.children().eq(t).offset(),d.children().eq(t).css({left:n.left,top:n.top})),u.insert(TweenMax.to(d.children().eq(t),c.duration,f(c)));u.play()}else"lines"==c.type&&(u=new TimelineMax({align:"normal"}),h(".split-lines").each(function(){var e;h(this).css({"white-space":"nowrap"}),"slide"==c.animation?(e=h(this).width(),u.insert(TweenMax.to(h(this),c.duration,f(c,e)),"-=0.45")):(e=h(this).offset(),h(this).css({left:e.left,top:e.top}),u.insert(TweenMax.to(h(this),c.duration,f(c))))}),u.play())},this.reverse=function(){u.reverse()},this};var f=function(e,t){return"explode"==e.animation?{position:"absolute",left:w(-1e3,1e3),top:w(-500,350),fontSize:"+=35",ease:Circ.easeOut,autoAlpha:0}:"slide"==e.animation?{autoAlpha:0,marginLeft:t,ease:Circ.easeIn}:"opacity"==e.animation?{autoAlpha:0}:"3D"==e.animation?{rotationY:w(-270,360),top:80,transformOrigin:"50% 50% -80",rotationX:w(-360,600),rotationY:w(-360,-600),autoAlpha:0}:"colorize"==e.animation?function(){{if(null==options.colorize||null==options.colorize)return{color:16777215*Math.random()};options.colorize}}():"smoke"==e.animation?{textShadow:"0px 0px 15px #cdcdcd",color:"none"}:"typography3D"==e.animation?{"text-shadow":"0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15)"}:"blackout"==e.animation?x():"glowOnHover"==e.animation?(null!=e.colorize&&null!=e.colorize||(e.colorize="#FF0084"),{textShadow:"2px 2px 15px "+(t=e.colorize),color:t}):"matrix"==e.animation?m():"no animation selected!"};function m(e){return{position:"absolute",opacity:1,top:e,color:"#ffffff",immediateRender:!1,ease:Circ.easeOut}}function x(){return{textShadow:"1px 1px 1px rgba(255, 255, 255, 0.5)",color:"#000"}}function w(e,t){return Math.floor(Math.random()*(1+e-t)+t)}}(jQuery);